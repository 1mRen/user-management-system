import{a as Y,b as A,c as Z,d as K}from"./chunk-63GHBJUO.js";import{a as $,b as u,c as g,d as M,e as G}from"./chunk-UYVSYKOO.js";import{$ as H,A as n,B as r,C as S,F as h,Fa as P,G as _,Ga as q,H as p,Ia as z,Ja as B,Ka as J,L as a,La as W,Ma as R,N as L,T as I,U as F,_ as N,aa as j,ba as b,ha as T,ia as O,ja as V,ka as D,n as x,p as m,q as k,r as d,s as f,t as E,u as s,v as l,w as v,x as c,z as w}from"./chunk-ZYNGRVCC.js";var U=(()=>{class e{constructor(t){this.accountService=t,this.account=this.accountService.accountValue}static{this.\u0275fac=function(i){return new(i||e)(l(u))}}static{this.\u0275cmp=m({type:e,selectors:[["ng-component"]],decls:6,vars:1,consts:[[1,"p-4"],[1,"container"]],template:function(i,o){i&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),a(3),r(),n(4,"p"),a(5,"You're logged in with Angular 10 & JWT!!"),r()()()),i&2&&(s(3),L("Hi ",o.account.firstName,"!"))},encapsulation:2})}}return e})();var ne=()=>import("./chunk-OMGDRNER.js").then(e=>e.AccountModule),ae=()=>import("./chunk-JFI26VSJ.js").then(e=>e.AdminModule),se=()=>import("./chunk-2OAAMN4J.js").then(e=>e.ProfileModule),ce=()=>import("./chunk-6EYLP5Q6.js").then(e=>e.RequestsModule),le=[{path:"",component:U,canActivate:[A]},{path:"account",loadChildren:ne},{path:"profile",loadChildren:se,canActivate:[A]},{path:"admin",loadChildren:ae,canActivate:[A],data:{roles:[M.Admin]}},{path:"requests",loadChildren:ce,canActivate:[A]},{path:"**",redirectTo:""}],X=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=k({type:e})}static{this.\u0275inj=x({imports:[R.forRoot(le),R]})}}return e})();function ue(e,C){if(e&1){let t=h();n(0,"div")(1,"a",4),_("click",function(){let o=d(t).$implicit,re=p(2);return f(re.removeAlert(o))}),a(2,"\xD7"),r(),S(3,"span",5),r()}if(e&2){let t=C.$implicit,i=p(2);w(i.cssClasses(t)),s(3),c("innerHTML",t.message,E)}}function de(e,C){if(e&1&&(n(0,"div",1)(1,"div",2),v(2,ue,4,4,"div",3),r()()),e&2){let t=p();s(2),c("ngForOf",t.alerts)}}var ee=(()=>{class e{constructor(t,i){this.router=t,this.alertService=i,this.id="default-alert",this.fade=!0,this.alerts=[]}ngOnInit(){this.alertSubscription=this.alertService.onAlert(this.id).subscribe(t=>{if(!t.message){this.alerts=this.alerts.filter(i=>i.keepAfterRouteChange),this.alerts.forEach(i=>delete i.keepAfterRouteChange);return}this.alerts.push(t),t.autoClose&&setTimeout(()=>this.removeAlert(t),3e3)}),this.routerSubscription=this.router.events.subscribe(t=>{t instanceof q&&this.alertService.clear(this.id)})}ngOnDestroy(){this.alertSubscription.unsubscribe(),this.routerSubscription.unsubscribe()}removeAlert(t){this.alerts.includes(t)&&(this.fade?(t.fade=!0,setTimeout(()=>{this.alerts=this.alerts.filter(i=>i!==t)},250)):this.alerts=this.alerts.filter(i=>i!==t))}cssClasses(t){if(!t)return;let i=["alert","alert-dismissable"],o={[g.Success]:"alert alert-success",[g.Error]:"alert alert-danger",[g.Info]:"alert alert-info",[g.Warning]:"alert alert-warning"};return i.push(o[t.type]),t.fade&&i.push("fade"),i.join(" ")}static{this.\u0275fac=function(i){return new(i||e)(l(B),l(G))}}static{this.\u0275cmp=m({type:e,selectors:[["alert"]],inputs:{id:"id",fade:"fade"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["m-3","",1,""],[3,"class",4,"ngFor","ngForOf"],[1,"close",3,"click"],[3,"innerHTML"]],template:function(i,o){i&1&&v(0,de,3,1,"div",0),i&2&&c("ngIf",o.alerts.length)},dependencies:[j,b],encapsulation:2})}}return e})();var ve=e=>({"bg-light":e}),te=()=>({exact:!0});function he(e,C){if(e&1){let t=h();n(0,"nav",3)(1,"div",4)(2,"a",5),a(3,"Home"),r(),n(4,"a",6),a(5,"Profile"),r(),n(6,"a",7),a(7,"Admin"),r(),n(8,"a",8),_("click",function(){d(t);let o=p();return f(o.logout())}),a(9,"Logout"),r()()()}e&2&&(s(2),c("routerLinkActiveOptions",I(1,te)))}function _e(e,C){if(e&1){let t=h();n(0,"nav",3)(1,"div",4)(2,"a",5),a(3,"Home"),r(),n(4,"a",6),a(5,"Profile"),r(),n(6,"a",9),a(7,"Requests"),r(),n(8,"a",8),_("click",function(){d(t);let o=p();return f(o.logout())}),a(9,"Logout"),r()()()}e&2&&(s(2),c("routerLinkActiveOptions",I(1,te)))}var ie=(()=>{class e{constructor(t){this.accountService=t,this.Role=M,this.accountService.account.subscribe(i=>this.account=i)}logout(){this.accountService.logout()}static{this.\u0275fac=function(i){return new(i||e)(l(u))}}static{this.\u0275cmp=m({type:e,selectors:[["app"]],decls:6,vars:5,consts:[[1,"app-container",3,"ngClass"],["class","navbar navbar-expand navbar-dark bg-dark",4,"ngIf"],["name","subnav"],[1,"navbar","navbar-expand","navbar-dark","bg-dark"],[1,"navbar-nav"],["routerLink","/","routerLinkActive","active",1,"nav-item","nav-link",3,"routerLinkActiveOptions"],["routerLink","/profile","routerLinkActive","active",1,"nav-item","nav-link"],["routerLink","/admin","routerLinkActive","active",1,"nav-item","nav-link"],["href","javascript:void(0)",1,"nav-item","nav-link",3,"click"],["routerLink","/requests","routerLinkActive","active",1,"nav-item","nav-link"]],template:function(i,o){i&1&&(n(0,"div",0),v(1,he,10,2,"nav",1)(2,_e,10,2,"nav",1),S(3,"router-outlet",2)(4,"alert")(5,"router-outlet"),r()),i&2&&(c("ngClass",F(3,ve,o.account)),s(),c("ngIf",o.account&&o.account.role===o.Role.Admin),s(),c("ngIf",o.account&&o.account.role!==o.Role.Admin))},dependencies:[H,b,z,J,W,ee],encapsulation:2})}}return e})();var oe=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=k({type:e,bootstrap:[ie]})}static{this.\u0275inj=x({providers:[{provide:N,useFactory:Y,multi:!0,deps:[u]},{provide:T,useClass:K,multi:!0},{provide:T,useClass:Z,multi:!0}],imports:[D,P,O,X]})}}return e})();$.production&&void 0;V().bootstrapModule(oe).catch(e=>console.error(e));
