import{a as Z,b as S,c as q,d as K}from"./chunk-WRTMG7NH.js";import{a as G,b as d,c as f,d as k,e as Y}from"./chunk-XYLJRMEX.js";import{A as o,Aa as V,B as C,Ba as z,Da as B,E as x,Ea as J,F as M,Fa as W,G as p,Ga as $,Ha as T,J as a,L as E,R as L,S as N,X as F,Y as H,Z as j,_ as b,ca as y,da as O,ea as D,fa as P,m as h,o as m,p as g,q as _,r as A,s as R,t as s,u as l,v as u,w as c,y as w,z as n}from"./chunk-VSUWDIMV.js";var U=(()=>{class t{constructor(e){this.accountService=e,this.account=this.accountService.accountValue}static{this.\u0275fac=function(i){return new(i||t)(l(d))}}static{this.\u0275cmp=m({type:t,selectors:[["ng-component"]],decls:6,vars:1,consts:[[1,"p-4"],[1,"container"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),a(3),o(),n(4,"p"),a(5,"You're logged in with Angular 10 & JWT!!"),o()()()),i&2&&(s(3),E("Hi ",r.account.firstName,"!"))},encapsulation:2})}}return t})();var rt=[{path:"",component:U,canActivate:[S]},{path:"account",loadChildren:()=>import("./chunk-PFVDW4HW.js").then(t=>t.AccountModule)},{path:"profile",loadChildren:()=>import("./chunk-E3P7BD6Y.js").then(t=>t.ProfileModule),canActivate:[S]},{path:"admin",loadChildren:()=>import("./chunk-DBTUFWSI.js").then(t=>t.AdminModule),canActivate:[S],data:{roles:[k.Admin]}},{path:"**",redirectTo:""}],X=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=g({type:t})}static{this.\u0275inj=h({imports:[T.forRoot(rt),T]})}}return t})();function st(t,v){if(t&1){let e=x();n(0,"div")(1,"a",4),M("click",function(){let r=_(e).$implicit,ot=p(2);return A(ot.removeAlert(r))}),a(2,"\xD7"),o(),C(3,"span",5),o()}if(t&2){let e=v.$implicit,i=p(2);w(i.cssClasses(e)),s(3),c("innerHTML",e.message,R)}}function ct(t,v){if(t&1&&(n(0,"div",1)(1,"div",2),u(2,st,4,4,"div",3),o()()),t&2){let e=p();s(2),c("ngForOf",e.alerts)}}var tt=(()=>{class t{constructor(e,i){this.router=e,this.alertService=i,this.id="default-alert",this.fade=!0,this.alerts=[]}ngOnInit(){this.alertSubscription=this.alertService.onAlert(this.id).subscribe(e=>{if(!e.message){this.alerts=this.alerts.filter(i=>i.keepAfterRouteChange),this.alerts.forEach(i=>delete i.keepAfterRouteChange);return}this.alerts.push(e),e.autoClose&&setTimeout(()=>this.removeAlert(e),3e3)}),this.routerSubscription=this.router.events.subscribe(e=>{e instanceof z&&this.alertService.clear(this.id)})}ngOnDestroy(){this.alertSubscription.unsubscribe(),this.routerSubscription.unsubscribe()}removeAlert(e){this.alerts.includes(e)&&(this.fade?(e.fade=!0,setTimeout(()=>{this.alerts=this.alerts.filter(i=>i!==e)},250)):this.alerts=this.alerts.filter(i=>i!==e))}cssClasses(e){if(!e)return;let i=["alert","alert-dismissable"],r={[f.Success]:"alert alert-success",[f.Error]:"alert alert-danger",[f.Info]:"alert alert-info",[f.Warning]:"alert alert-warning"};return i.push(r[e.type]),e.fade&&i.push("fade"),i.join(" ")}static{this.\u0275fac=function(i){return new(i||t)(l(J),l(Y))}}static{this.\u0275cmp=m({type:t,selectors:[["alert"]],inputs:{id:"id",fade:"fade"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["m-3","",1,""],[3,"class",4,"ngFor","ngForOf"],[1,"close",3,"click"],[3,"innerHTML"]],template:function(i,r){i&1&&u(0,ct,3,1,"div",0),i&2&&c("ngIf",r.alerts.length)},dependencies:[j,b],encapsulation:2})}}return t})();var pt=t=>({"bg-light":t}),mt=()=>({exact:!0});function ut(t,v){t&1&&(n(0,"a",9),a(1,"Admin"),o())}function dt(t,v){if(t&1){let e=x();n(0,"nav",3)(1,"div",4)(2,"a",5),a(3,"Home"),o(),n(4,"a",6),a(5,"Profile"),o(),u(6,ut,2,0,"a",7),n(7,"a",8),M("click",function(){_(e);let r=p();return A(r.logout())}),a(8,"Logout"),o()()()}if(t&2){let e=p();s(2),c("routerLinkActiveOptions",L(2,mt)),s(4),c("ngIf",(e.account==null?null:e.account.role)===e.Role.Admin)}}var et=(()=>{class t{constructor(e){this.accountService=e,this.Role=k,this.accountService.account.subscribe(i=>this.account=i)}logout(){this.accountService.logout()}static{this.\u0275fac=function(i){return new(i||t)(l(d))}}static{this.\u0275cmp=m({type:t,selectors:[["app"]],decls:5,vars:4,consts:[[1,"app-container",3,"ngClass"],["class","navbar navbar-expand navbar-dark bg-dark",4,"ngIf"],["name","subnav"],[1,"navbar","navbar-expand","navbar-dark","bg-dark"],[1,"navbar-nav"],["routerLink","/","routerLinkActive","active",1,"nav-item","nav-link",3,"routerLinkActiveOptions"],["routerLink","/profile","routerLinkActive","active",1,"nav-item","nav-link"],["routerLink","/admin","routerLinkActive","active","class","nav-item nav-link",4,"ngIf"],["href","javascript:void(0)",1,"nav-item","nav-link",3,"click"],["routerLink","/admin","routerLinkActive","active",1,"nav-item","nav-link"]],template:function(i,r){i&1&&(n(0,"div",0),u(1,dt,9,3,"nav",1),C(2,"router-outlet",2)(3,"alert")(4,"router-outlet"),o()),i&2&&(c("ngClass",N(2,pt,r.account)),s(),c("ngIf",r.account))},dependencies:[H,b,B,W,$,tt],encapsulation:2})}}return t})();var it=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=g({type:t,bootstrap:[et]})}static{this.\u0275inj=h({providers:[{provide:F,useFactory:Z,multi:!0,deps:[d]},{provide:y,useClass:K,multi:!0},{provide:y,useClass:q,multi:!0}],imports:[P,V,O,X]})}}return t})();G.production&&void 0;D().bootstrapModule(it).catch(t=>console.error(t));
